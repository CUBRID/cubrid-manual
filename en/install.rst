.. _install-execute:

Installing and Running on Linux
===============================

Overview
--------

Supported Platforms and System Requirements
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

The platforms supported by CUBRID and hardware/software requirements for the installation are as follows:

+---------------------------------------------------------------------+------------------+---------------------+--------------------------------------+
| Supported Platforms                                                 | Required Memory  | Required Disk Space | Required Software                    |
+=====================================================================+==================+=====================+======================================+
| * Windows 32/64 Bit XP, 2003, Vista, Windows 7                      | 1GB or more      | 2GB or more(\*)     | JRE/JDK 1.6 or higher                |
|                                                                     |                  |                     | (Required when Java Stored Procedure |
| * Linux family 32/64 Bit(Linux kernel 2.4 Î∞è glibc 2.3.4 or higher) |                  |                     | is required)                         |
+---------------------------------------------------------------------+------------------+---------------------+--------------------------------------+

(\*): Requires a 500 MB of free disk space on the initial installation; requires approximately 1.5 GB of free disk space with a database creating with default options.

Beginning with 2008 R4.0, CUBRID Manager Client is not automatically installed when installing the CUBRID package. For this reason, if you require CUBRID Manager you must install it separately. The CUBRID can be downloaded from http://ftp.cubrid.org.

Including CUBRID Query Browser, a variety of drivers such as PHP, ODBC, OLE, and DB can also be downloaded from http://ftp.cubrid.org.

For more information on the CUBRID engine, tools, and drivers, see http://www.cubrid.org.


Version Compatibility and Operability
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

**Application Compatibility**

*   Applications that use JDBC, PHP or CCI APIs from 2008 R2.0 or higher version of CUBRID can access the CUBRID 2008 R4.1 database. However, you must link the CUBRID 2008 R4.1 library or use the driver to use the added/improved features of JDBC, PHP or CCI interfaces.

*   Note that query results may differ from those given in the earlier version because new reserved words have been added, and the specifications for some queries have been changed.

*   An application that is developed by using the GLO class can be used after it is converted to an application or schema suitable to the BLOB or CLOB type.

**CUBRID Manager Compatibility**

*   CUBRID Manager guarantees backward compatibility with the servers using CUBRID 2008 R2.1 or higher and uses the CUBRID JDBC driver that matches each server version. However, you must use a CUBRID Manager that is higher than CUBRID servers in version in order to utilize all the features of CUBRID Manager. The CUBRID JDBC driver is included in the $CUBRID/jdbc directory when CUBRID is installed.($CUBRID on Linux, %CUBRID% on Windows).

*   The bit version of CUBRID Manager must be identical to the bit version of JRE. For example, if a 64-bit DB server uses CUBRID Manager 32-bit version, JRE or JDK 32-bit version should be installed.

*   Drivers for 2008 R2.2 and higher versions are included in CUBRID Manager by default, which you can download separately from the http://www.cubrid.org Website.

.. note:: 9.0 Beta version user should upgrade all of driver, broker, DB server; Data migration should be done because it's DB volume is not compatible with 9.1 version.
    For upgrade and data migration, see :doc:`/upgrade`.

Interoperability
^^^^^^^^^^^^^^^^

*   If the CUBRID DB server and its broker server are operated separately, their interoperability is guaranteed, even when the operating systems are different. However, the bit version of a DB server must be identical to the bit version of a broker server. For example, the 64-bit DB server for Linux is interoperable with the 64-bit broker server for Windows, but it is not interoperable with a 32-bit broker server.

    For the relation between DB server and broker, see :doc:`intro`.For CUBRID SHARD, see :doc:`admin/shard`.

*   If the CUBRID DB server and its broker server are operated separately, their system locales should be the same. For example, if CUBRID_CHARSET of DB server is en_US.utf8, CUBRID_CHARSET of broker server should be en_US.utf8, too.

Installing and Running on Linux
-------------------------------

**Details to Check when Installing**

    Check the following before installing CUBRID for Linux.

    * Operating system 

      Only supports glibc 2.3.4 or later.
      The glibc version can be checked as follows: ::
      
        %rpm -q glibc

    * 64-bit

      Since version 2008 R2.0, CUBRID supports both 32-bit and 64-bit Linux. You can check the version as follows: ::
      
        % uname -a
        Linux host_name 2.6.18-53.1.14.el5xen #1 SMP Wed Mar 5 12:08:17 EST 2008 x86_64 x86_64 x86_64 GNU/Linux

      Make sure to install the CUBRID 32-bit version on 32-bit Linux and the CUBRID 64-bit version on 64-bit Linux. The followings are the libraries that should be added.

      * Curses Library (rpm -q ncurses)
      * gcrypt Library (rpm -q libgcrypt)
      * stdc++ Library (rpm -q libstdc++)
  
**Installing CUBRID**

    The installation program consists shell scripts that contain binary; thus it can be installed automatically. The following example shows how to install CUBRID with the "CUBRID-9.1.0.0201-linux.x86_64.sh" file on the Linux. ::

        $ sh CUBRID-9.1.0.0201-linux.x86_64.sh
        Do you agree to the above license terms? (yes or no) : yes
        Do you want to install this software(CUBRID) to the default(/home1/cub_user/CUBRID) directory? (yes or no) [Default: yes] : yes
        Install CUBRID to '/home1/cub_user/CUBRID' ...
        In case a different version of the CUBRID product is being used in other machines, 
        please note that the CUBRID 9.1 servers are only compatible with the CUBRID 9.1 clients and vice versa.
        Do you want to continue? (yes or no) [Default: yes] : yes
        Copying old .cubrid.sh to .cubrid.sh.bak ...

        CUBRID has been successfully installed.

        demodb has been successfully created.

        If you want to use CUBRID, run the following commands
        $ . /home1/cub_user/.cubrid.sh
        $ cubrid service start

    As shown in the example above, after installing the downloaded file (CUBRID-9.1.0.0201-linux.x86_64.sh), the CUBRID related environment variables must be set in order to use the CUBRID database. Such setting has been made automatically when logging in the concerned terminal. Therefore there is no need to re-set after the first installation. ::

        $ . /home1/cub_user/.cubrid.sh

    After CUBRID is installed, you can start CUBRID Manager server and CUBRID broker as follows. ::

        $ cubrid service start

    When you want to check whether CUBRID Manager server and CUBRID broker works well, you can use **grep** command in Linux as follows. ::

        $ ps -ef | grep cub_
        cub_user 15200 1 0 18:57   00:00:00 cub_master
        cub_user 15205 1 0 18:57 pts/17 00:00:00 cub_broker
        cub_user 15210 1 0 18:57 pts/17 00:00:00 query_editor_cub_cas_1
        cub_user 15211 1 0 18:57 pts/17 00:00:00 query_editor_cub_cas_2
        cub_user 15212 1 0 18:57 pts/17 00:00:00 query_editor_cub_cas_3
        cub_user 15213 1 0 18:57 pts/17 00:00:00 query_editor_cub_cas_4
        cub_user 15214 1 0 18:57 pts/17 00:00:00 query_editor_cub_cas_5
        cub_user 15217 1 0 18:57 pts/17 00:00:00 cub_broker
        cub_user 15222 1 0 18:57 pts/17 00:00:00 broker1_cub_cas_1
        cub_user 15223 1 0 18:57 pts/17 00:00:00 broker1_cub_cas_2
        cub_user 15224 1 0 18:57 pts/17 00:00:00 broker1_cub_cas_3
        cub_user 15225 1 0 18:57 pts/17 00:00:00 broker1_cub_cas_4
        cub_user 15226 1 0 18:57 pts/17 00:00:00 broker1_cub_cas_5
        cub_user 15229 1 0 18:57   00:00:00 cub_auto start
        cub_user 15232 1 0 18:57   00:00:00 cub_js start

**Installing CUBRID (rpm File)**

    You can install CUBRID by using rpm file that is created on CentOS5. The way of installing and uninstalling CUBRID is the same as that of using general rpm utility. While CUBRID is being installed, a new system group (cubrid) and a user account (cubrid) are created. After installation is complete, you should log in with a cubrid user account to start a CUBRID service.::

        $ rpm -Uvh cubrid-9.1.0.0201-el5.x86_64.rpm

    When rmp is executed, CUBRID is installed in the "cubrid" home directory (/opt/cubrid) and related configuration file (cubrid.[c]sh) is installed in the /etc/profile.d directory. Note that *demodb* is not automatically installed. Therefore, you must executed /opt/cubrid/demo/make_cubrid_demo.sh with "cubrid" Linux ID. When installation is complete, enter the code below to start CUBRID with "cubrid" Linux ID. ::

        $ cubrid service start

    .. note:: \

        **RPM and dependency**
        
        You must check RPM dependency when installing with RPM. If you ignore (--nodeps) dependency, it may not be executed. Even if you remove RPM, user accounts and databases that are created after installing, you must remove it manually, if needed.
        
        **Running CUBRID automatically in Linux when the system is started**
        
        How to use service or chkconfig command If you use SH or RPM package to install CUBRID, the cubrid script will be included in the $CUBRID/share/init.d directory. In this file, you can find the environment variable, **CUBRID_USER**. If you change this variable to the Linux account with which CUBRID has been installed and register it in /etc/init.d, then you can use service or chkconfig command to run CUBRID automatically when the Linux system is started.
    
**Installing CUBRID on Fedora/CentOS**

    To install CUBRID using the yum command, you should know where the CUBRID package is located. Choose appropriate location based on your operating system.

    *   `http://www.cubrid.org/yum_repository <http://www.cubrid.org/yum_repository>`_

    For example, if you are using Fedora 16, execute the command below. In the example, fc16 refers to Fedora 16. ::

        $ rpm -i http://yumrepository.cubrid.org/cubrid_repo_settings/9.0.0/cubridrepo-9.0.0-1.fc16.noarch.rpm

    If you are using CentOS 6.2, execute the command below. In this example, el6.2 refers to CentOS. ::

        $ rpm -i http://yumrepository.cubrid.org/cubrid_repo_settings/9.0.0/cubridrepo-9.0.0-1.el6.2.noarch.rpm

    You can install the CUBRID package you have desired based on the command you execute. To install the latest version, execute the command below. ::

        $ yum install cubrid

    To install the earlier version, you should include version information in the command. ::

        $ yum install cubrid-8.4.3

    After installation is complete, configure environment variables including installation path of CUBRID and then apply them to system.

**Installing CUBRID on Ubuntu**

    To install CUBRID using the apt-get command on Ubuntu, add the CUBRID storage first and then update the apt index. ::

        $ sudo add-apt-repository ppa:cubrid/cubrid
        $ sudo apt-get update

    To install the latest version, execute the command below. ::

        $ sudo apt-get install cubrid

    To install the earlier version, you should include version information in the command. ::

        $ sudo apt-get install cubrid-8.4.3

    After installation is complete, configure environment variables including installation path of CUBRID and then apply them to system.

**Upgrading CUBRID**

    When you specify an installation directory where the previous version of CUBRID is already installed, a message which asks to overwrite files in the directory will appear. Entering **no** will stop the installation. ::

        Directory '/home1/cub_user/CUBRID' exist!
        If a CUBRID service is running on this directory, it may be terminated abnormally.
        And if you don't have right access permission on this directory(subdirectories or files), install operation will be failed.
        Overwrite anyway? (yes or no) [Default: no] : yes

    Choose whether to overwrite the existing configuration files during the CUBRID installation. Entering **yes** will overwrite and back up them as extension .bak files. ::

        The configuration file (.conf or .pass) already exists. Do you want to overwrite it? (yes or no) : yes

    For more information on upgrading a database from a previous version to a new version, see :doc:`upgrade`.

**Configuring Environment**

    You can modify the environment such as service ports etc. edit the parameters of a configuration file located in the **$CUBRID/conf** directory. See :ref:`Installin-and-Running-on-Windows` for more information.

**Installing CUBRID Interfaces**

    You can see the latest information on interface modules such as CCI, JDBC, PHP, ODBC, OLE DB, ADO.NET, Ruby, Python and Node.js¬†and install them by downloading files from `http://www.cubrid.org/wiki_apis <http://www.cubrid.org/wiki_apis>`_ .

    A simple description on each driver can be found on :doc:`/api/index`.

**Installing CUBRID Tools**

    You can see the latest information on tools such as CUBRID Manager and CUBRID Query Browser and install them by downloading files from `http://www.cubrid.org/wiki_tools <http://www.cubrid.org/wiki_tools>`_ .

    CUBRID Web Manager is started when the CUBRID is installed, and you can see this by accessing to https://localhost:8282/ .

.. _Installin-and-Running-on-Windows:

Installing and Running on Windows
---------------------------------

**Details to Check when Install**

    You should check belows before installing CUBRID for Windows.
    
    * 64-bit

      Since version 2008 R2.0, CUBRID supports both 32-bit and 64-bit Windows. You can check the version by selecting [My Computer] > [System Properties]. Make sure to install the CUBRID 32-bit version on 32-bit Windows and the CUBRID 64-bit version on 64-bit Windows.

    If you want to install CUBRID on Windows Vista or higher, execute the installation file with administrative privileges.

    * On the popup menu after clicking right mouse button on the CUBRID installation file, choose [Execute as an administrator (A)].

**Installation Process**
    
    **Step 1: Specifying the directory to install**
    
    **Step 2: Selecting Setup Type**

    *   **Server and Driver Installation** : CUBRID Server, CSQL (a command line tool), interface drivers (OLE DB Provider, ODBC, JDBC, C API) are all installed.

    *   **Driver Installation** : Only the interface drivers (OLE DB Provider, ODBC, JDBC, C API) are  installed. You can select this type of installation if development or operation is performed by remote connection to the computer in which the CUBRID database server is installed.

    **Step 3: Creating a sample database**
        
        To craete a sample database, it requires 300MB disk space. 
    
    **Step 4: Completing the installation**
    
        CUBRID Service Tray appears on the right bottom.

    .. note:: 
    
        CUBRID Service is automatically started when the system is rebooted. If you want to stop the  when the system is rebooted, change the "Start parameters" of "CUBRIDService" as "Stop"; "Control Panel > Adminstrative Tools > Services" and double-clicking "CUBRIDService", then pop-up window will be shown.

**Upgrading CUBRID**

    To install a new version of CUBRID in an environment in which a previous version has already been installed, select [CUBRID Service Tray] > [Exit] from the menu to stop currently running services, and then remove the previous version of CUBRID. Note that when you are prompted with "Do you want to delete all the existing version of databases and the configuration files?" you must select "No" to protect the existing databases.

    For more information on upgrading a database from a previous version to a new version, see :doc:`upgrade`.

    .. _Configuring-Environment-on-Windows:

**Configuring Environment**

    You can change configuration such as service ports to meet the user environment by changing the parameter values of following files which are located in the **%CUBRID%\\conf** directory. If a firewall has been configured, the ports used in CUBRID need to be opened.

    * **cm.conf**

      A configuration file for CUBRID Manager. The port that the Manager server process uses is called  **cm_port** and its default value is **8001** . Two ports are used and the port number is determined by the **cm_port** parameter. If 8001 is specified, 8001 and 8002 (configured number plus 1) ports will be used. For details, see `CUBRID Manager Manual <http://www.cubrid.org/wiki_tools/entry/cubrid-manager-manual>`_ .

    * **cm_httpd.conf**
     
      A configuration file for CUBRID Web Manager. **listen** is the port to be used in the web manager server process, and it's default value is **8282**. For more details, see `CUBRID Web Manager Manual <http://www.cubrid.org/wiki_tools/entry/cubrid-web-manager-manual>`_ .

    * **cubrid.conf**

      A configuration file for server. You can use it to configure the following values: database memory, the number threads based on the number of concurrent users, communication port between broker and server, etc.  The port that a master process uses is called cubrid_port_id and its default value is 1523. For details, see :ref:`cubrid-conf-default-parameters`.

    * **cubrid_broker.conf**

      A configuration file for broker. You can use it to configure the following values: broker port, the number of application servers (CAS), SQL LOG, etc. The port that a broker uses is called **BROKER_PORT**. A port you see in the drivers such as JDBC is its corresponding broker's port. **APPL_SERVER_PORT** is a port that a broker application server (CAS) uses and it is added only in Windows. The default value is  **BROKER_PORT** +1. The number of ports used is the same as the number of CAS, starting from the specified port's number plus 1. For details, see :ref:`parameter-by-broker`.

      For example, if the value of **APPL_SERVER_PORT** is 35000 and the maximum number of CASs by **MAX_NUM_APPL_SERVER** is 50, then listening ports on CASs are 35000, 35001, ..., 35049.
      For more details, see :ref:`parameter-by-broker`. 
      
      The **CCI_DEFAULT_AUTOCOMMIT** broker parameter is supported since 2008 R4.0. The default value in the version is **OFF** and it is later changed to **ON** .  Therefore, users who have upgraded from 2008 R4.0 to 2008 R4.1 or later versions should change this value to **OFF** or configure the auto-commit mode to **OFF** .

**Installing CUBRID Interfaces**

    You can see the latest information on interface modules such as JDBC, PHP, ODBC, and OLE DB and install them by downloading files from¬†`http://www.cubrid.org/wiki_apis <http://www.cubrid.org/wiki_apis>`_ .

    A simple description on each driver can be found on :doc:`/api/index`.

**Installing CUBRID Tools**

    You can see the latest information on tools such as CUBRID Manager and CUBRID Query Browser and install them by downloading files from `http://www.cubrid.org/wiki_tools <http://www.cubrid.org/wiki_tools>`_ .
    
    CUBRID Web Manager is started when the CUBRID is installed, and you can see this by accessing to `https://localhost:8282/ <https://localhost:8282/>`_.

[Î≤àÏó≠]

.. _connect-to-cubrid-server:

CUBRID ÏÑúÎ≤ÑÏóê Ïó∞Í≤∞ÌïòÍ∏∞
======================

Ìè¨Ìä∏Í∞Ä Í∞úÎ∞©ÎêòÏñ¥ ÏûàÏßÄ ÏïäÏùÄ ÌôòÍ≤ΩÏóêÏÑú ÏÇ¨Ïö©ÌïòÎäî Í≤ΩÏö∞, CUBRIDÍ∞Ä ÏÇ¨Ïö©ÌïòÎäî Ìè¨Ìä∏Îì§ÏùÑ Í∞úÎ∞©Ìï¥Ïïº ÌïúÎã§.

Îã§ÏùåÏùÄ CUBRIDÍ∞Ä ÏÇ¨Ïö©ÌïòÎäî Ìè¨Ìä∏Ïóê ÎåÄÌï¥ ÌïòÎÇòÏùò ÌëúÎ°ú Ï†ïÎ¶¨Ìïú Í≤ÉÏù¥Îã§. Í∞Å Ìè¨Ìä∏Îäî ÏÉÅÎåÄÎ∞©Ïùò Ï†ëÏÜçÏùÑ ÎåÄÍ∏∞ÌïòÎäî listener Ï™ΩÏóêÏÑú Í∞úÎ∞©ÎêòÏñ¥Ïïº ÌïúÎã§.

Linux Î∞©ÌôîÎ≤ΩÏóêÏÑú ÌäπÏ†ï ÌîÑÎ°úÏÑ∏Ïä§Ïóê ÎåÄÌïú Ìè¨Ìä∏Î•º Í∞úÎ∞©ÌïòÎ†§Î©¥ Ìï¥Îãπ Î∞©ÌôîÎ≤Ω ÌîÑÎ°úÍ∑∏Îû®Ïùò ÏÑ§Î™ÖÏùÑ Îî∞Î•∏Îã§.

WindowsÏóêÏÑú ÏûÑÏùòÏùò Í∞ÄÏö© Ìè¨Ìä∏Î•º ÏÇ¨Ïö©ÌïòÎäî Í≤ΩÏö∞Îäî Ïñ¥Îñ§ Ìè¨Ìä∏Î•º Í∞úÎ∞©Ìï† ÏßÄ Ïïå Ïàò ÏóÜÏúºÎØÄÎ°ú  Windows Î©îÎâ¥Ïùò "Ï†úÏñ¥Ìåê" Í≤ÄÏÉâÏ∞ΩÏóêÏÑú  "Î∞©ÌôîÎ≤Ω"ÏùÑ ÏûÖÎ†•Ìïú ÌõÑ, "Windows Î∞©ÌôîÎ≤Ω > Windows Î∞©ÌôîÎ≤ΩÏùÑ ÌÜµÌï¥ ÌîÑÎ°úÍ∑∏Îû® ÎòêÎäî Í∏∞Îä• ÌóàÏö©"ÏóêÏÑú Ìè¨Ìä∏ Í∞úÎ∞©ÏùÑ ÏõêÌïòÎäî ÌîÑÎ°úÍ∑∏Îû®ÏùÑ Ï∂îÍ∞ÄÌïúÎã§. 
=>
WindowsÏóêÏÑú ÏûÑÏùòÏùò Í∞ÄÏö© Ìè¨Ìä∏Î•º ÏÇ¨Ïö©ÌïòÎäî Í≤ΩÏö∞Îäî Ïñ¥Îñ§ Ìè¨Ìä∏Î•º Í∞úÎ∞©Ìï† ÏßÄ Ïïå Ïàò ÏóÜÏúºÎØÄÎ°ú, type firewall in the search box of "Control Panel", click "Windows Firewall > Allow a program through Windows Firewall" and select the check box next to the program you want to allow, and then click OK.

WindowsÏóêÏÑú ÌäπÏ†ï Ìè¨Ìä∏Î•º ÏßÄÏ†ïÌïòÍ∏∞ Î≤àÍ±∞Î°úÏö¥ Í≤ΩÏö∞ÏóêÎèÑ Ïù¥ Î∞©Î≤ïÏùÑ ÏÇ¨Ïö©Ìï† Ïàò ÏûàÎã§. ÏùºÎ∞òÏ†ÅÏúºÎ°ú Windows Î∞©ÌôîÎ≤ΩÏóêÏÑú ÌäπÏ†ï ÌîÑÎ°úÍ∑∏Îû®ÏùÑ ÏßÄÏ†ïÌïòÏßÄ ÏïäÍ≥† Ìè¨Ìä∏Î•º Ïó¨Îäî Í≤ÉÎ≥¥Îã§ ÌóàÏö©ÎêòÎäî ÌîÑÎ°úÍ∑∏Îû® Î™©Î°ùÏóê ÌîÑÎ°úÍ∑∏Îû®ÏùÑ Ï∂îÍ∞ÄÌïòÎäî Í≤ÉÏù¥ Î≥¥Îã§ ÏïàÏ†ÑÌïòÎØÄÎ°ú Ïù¥ Î∞©ÏãùÏùÑ Í∂åÏû•ÌïúÎã§.

* cub_brokerÏóê ÎåÄÌïú Î™®Îì† Ìè¨Ìä∏Î•º Í∞úÎ∞©ÌïòÎ†§Î©¥ "%CUBRID%\\bin\\cub_broker.exe"Î•º Ï∂îÍ∞ÄÌïúÎã§.
* CASÏóê ÎåÄÌïú Î™®Îì† Ìè¨Ìä∏Î•º Í∞úÎ∞©ÌïòÎ†§Î©¥ "%CUBRID%\\bin\\cub_cas.exe"Î•º Ï∂îÍ∞ÄÌïúÎã§.
* cub_masterÏóê ÎåÄÌïú Î™®Îì† Ìè¨Ìä∏Î•º Í∞úÎ∞©ÌïòÎ†§Î©¥ "%CUBRID%\\bin\\cub_master.exe"Î•º Ï∂îÍ∞ÄÌïúÎã§.
* cub_serverÏóê ÎåÄÌïú Î™®Îì† Ìè¨Ìä∏Î•º Í∞úÎ∞©ÌïòÎ†§Î©¥ "%CUBRID%\\bin\\cub_server.exe"Î•º Ï∂îÍ∞ÄÌïúÎã§.
* CUBRID ManagerÏóê ÎåÄÌïú Î™®Îì† Ìè¨Ìä∏Î•º Í∞úÎ∞©ÌïòÎ†§Î©¥ "%CUBRID%\\bin\\cub_cmserver.exe"Î•º Ï∂îÍ∞ÄÌïúÎã§.
* CUBRID Web ManagerÏóê ÎåÄÌïú Î™®Îì† Ìè¨Ìä∏Î•º Í∞úÎ∞©ÌïòÎ†§Î©¥ "%CUBRID%\\bin\\cub_cmhttpd.exe"Î•º Ï∂îÍ∞ÄÌïúÎã§.
    
Î∏åÎ°úÏª§ Ïû•ÎπÑ ÎòêÎäî DB ÏÑúÎ≤Ñ Ïû•ÎπÑÏóêÏÑú LinuxÏö© CUBRIDÎ•º ÏÇ¨Ïö©ÌïúÎã§Î©¥ Linux Ìè¨Ìä∏Í∞Ä Î™®Îëê Í∞úÎ∞©ÎêòÏñ¥ ÏûàÏñ¥Ïïº ÌïúÎã§.
Î∏åÎ°úÏª§ Ïû•ÎπÑ ÎòêÎäî DB ÏÑúÎ≤Ñ Ïû•ÎπÑÏóêÏÑú WindowsÏö© CUBRIDÎ•º ÏÇ¨Ïö©ÌïúÎã§Î©¥ Windows Ìè¨Ìä∏Í∞Ä Î™®Îëê Í∞úÎ∞©ÎêòÏñ¥ ÏûàÍ±∞ÎÇò, Í¥ÄÎ†® ÌîÑÎ°úÏÑ∏Ïä§Îì§Ïù¥ Î™®Îëê Windows Î∞©ÌôîÎ≤ΩÏóêÏÑú ÌóàÏö©ÎêòÎäî Î™©Î°ùÏóê Ï∂îÍ∞ÄÎêòÏñ¥ ÏûàÏñ¥Ïïº ÌïúÎã§.
     
    +---------------+--------------+---------------+----------------+-----------------------------------------------------+--------------------------+--------------+
    | Íµ¨Î∂Ñ          | listener     | requester     | Linux Ìè¨Ìä∏     | Windows Ìè¨Ìä∏                                        | Î∞©ÌôîÎ≤Ω Ìè¨Ìä∏ ÏÑ§Ï†ï         | ÏÑ§Î™Ö         |
    +===============+==============+===============+================+=====================================================+==========================+==============+
    | Í∏∞Î≥∏ ÏÇ¨Ïö©     | cub_broker   | application   | BROKER_PORT    | BROKER_PORT                                         | Í∞úÎ∞©(open)               | ÏùºÌöåÏÑ± Ïó∞Í≤∞  |
    |               +--------------+---------------+----------------+-----------------------------------------------------+--------------------------+--------------+
    |               | CAS          | application   | BROKER_PORT    | APPL_SERVER_PORT ~ (APP_SERVER_PORT + CAS Í∞úÏàò - 1) | Í∞úÎ∞©                     | Ïó∞Í≤∞ Ïú†ÏßÄ    |
    |               +--------------+---------------+----------------+-----------------------------------------------------+--------------------------+--------------+
    |               | cub_master   | CAS           | cubrid_port_id | cubrid_port_id                                      | Í∞úÎ∞©                     | ÏùºÌöåÏÑ± Ïó∞Í≤∞  |
    |               +--------------+---------------+----------------+-----------------------------------------------------+--------------------------+--------------+
    |               | cub_server   | CAS           | cubrid_port_id | ÏûÑÏùòÏùò Í∞ÄÏö© Ìè¨Ìä∏                                    | Linux: Í∞úÎ∞©              | Ïó∞Í≤∞ Ïú†ÏßÄ    |
    |               |              |               |                |                                                     |                          |              |
    |               |              |               |                |                                                     | Windows: ÌîÑÎ°úÍ∑∏Îû®        |              |
    |               +--------------+---------------+----------------+-----------------------------------------------------+--------------------------+--------------+
    |               | ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏   | cub_server    | ECHO(7)        | ECHO(7)                                             | Í∞úÎ∞©                     | Ï£ºÍ∏∞Ï†Å Ïó∞Í≤∞  |
    |               | Ïû•ÎπÑ(*)      |               |                |                                                     |                          |              |
    |               +--------------+---------------+----------------+-----------------------------------------------------+--------------------------+--------------+
    |               | ÏÑúÎ≤Ñ         | CAS, CSQL     | ECHO(7)        | ECHO(7)                                             | Í∞úÎ∞©                     | Ï£ºÍ∏∞Ï†Å Ïó∞Í≤∞  |
    |               | Ïû•ÎπÑ(**)     |               |                |                                                     |                          |              |
    +---------------+--------------+---------------+----------------+-----------------------------------------------------+--------------------------+--------------+
    | HA ÏÇ¨Ïö©       | cub_broker   | application   | BROKER_PORT    | ÎØ∏ÏßÄÏõê                                              | Í∞úÎ∞©                     | ÏùºÌöåÏÑ± Ïó∞Í≤∞  |
    |               +--------------+---------------+----------------+-----------------------------------------------------+--------------------------+--------------+
    |               | CAS          | application   | BROKER_PORT    | ÎØ∏ÏßÄÏõê                                              | Í∞úÎ∞©                     | Ïó∞Í≤∞ Ïú†ÏßÄ    |
    |               +--------------+---------------+----------------+-----------------------------------------------------+--------------------------+--------------+
    |               | cub_master   | CAS           | cubrid_port_id | ÎØ∏ÏßÄÏõê                                              | Í∞úÎ∞©                     | ÏùºÌöåÏÑ± Ïó∞Í≤∞  |
    |               +--------------+---------------+----------------+-----------------------------------------------------+--------------------------+--------------+
    |               | cub_master   | cub_master    | ha_port_id     | ÎØ∏ÏßÄÏõê                                              | Í∞úÎ∞©                     | Ï£ºÍ∏∞Ï†Å Ïó∞Í≤∞, |
    |               |              |               |                |                                                     |                          | heartbeat    |
    |               | (slave)      | (master)      |                |                                                     |                          | ÌôïÏù∏         |
    |               +--------------+---------------+----------------+-----------------------------------------------------+--------------------------+--------------+
    |               | cub_master   | cub_master    | ha_port_id     | ÎØ∏ÏßÄÏõê                                              | Í∞úÎ∞©                     | Ï£ºÍ∏∞Ï†Å Ïó∞Í≤∞, |
    |               |              |               |                |                                                     |                          | heartbeat    |
    |               | (master)     | (slave)       |                |                                                     |                          | ÌôïÏù∏         |
    |               +--------------+---------------+----------------+-----------------------------------------------------+--------------------------+--------------+
    |               | cub_server   | CAS           | cubrid_port_id | ÎØ∏ÏßÄÏõê                                              | Í∞úÎ∞©                     | Ïó∞Í≤∞ Ïú†ÏßÄ    |
    |               +--------------+---------------+----------------+-----------------------------------------------------+--------------------------+--------------+
    |               | ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏   | cub_server    | ECHO(7)        | ÎØ∏ÏßÄÏõê                                              | Í∞úÎ∞©                     | Ï£ºÍ∏∞Ï†Å Ïó∞Í≤∞  |
    |               | Ïû•ÎπÑ(*)      |               |                |                                                     |                          |              |
    |               +--------------+---------------+----------------+-----------------------------------------------------+--------------------------+--------------+
    |               | ÏÑúÎ≤Ñ         | CAS, CSQL,    | ECHO(7)        | ÎØ∏ÏßÄÏõê                                              | Í∞úÎ∞©                     | Ï£ºÍ∏∞Ï†Å Ïó∞Í≤∞  |
    |               | Ïû•ÎπÑ(**)     | copylogdb,    |                |                                                     |                          |              |
    |               |              | applylogdb    |                |                                                     |                          |              |
    +---------------+--------------+---------------+----------------+-----------------------------------------------------+--------------------------+--------------+
    | SHARD ÏÇ¨Ïö©    | shard_broker | application   | BROKER_PORT    | BROKER_PORT                                         | Í∞úÎ∞©                     | ÏùºÌöåÏÑ± Ïó∞Í≤∞  |
    |               +--------------+---------------+----------------+-----------------------------------------------------+--------------------------+--------------+
    |               | shard_proxy  | application   | BROKER_PORT    | BROKER_PORT + 1 ~ (BROKER_PORT + MAX_NUM_PROXY)     | Í∞úÎ∞©                     | Ïó∞Í≤∞ Ïú†ÏßÄ    |
    |               +--------------+---------------+----------------+-----------------------------------------------------+--------------------------+--------------+
    |               | shard_proxy  | shard CAS     | ÏóÜÏùå           | (BROKER_PORT + MAX_NUM_PROXY + 1) ~                 | Î∂àÌïÑÏöî                   | Ïó∞Í≤∞ Ïú†ÏßÄ    |
    |               |              |               |                | (BROKER_PORT + MAX_NUM_PROXY * 2)                   |                          |              |
    |               +--------------+---------------+----------------+-----------------------------------------------------+--------------------------+--------------+
    |               | cub_master   | shard CAS     | cubrid_port_id | cubrid_port_id                                      | Í∞úÎ∞©                     | ÏùºÌöåÏÑ± Ïó∞Í≤∞  |
    |               +--------------+---------------+----------------+-----------------------------------------------------+--------------------------+--------------+
    |               | cub_server   | shard CAS     | cubrid_port_id | ÏûÑÏùòÏùò Í∞ÄÏö© Ìè¨Ìä∏                                    | Linux: Í∞úÎ∞©              | Ïó∞Í≤∞ Ïú†ÏßÄ    |
    |               |              |               |                |                                                     |                          |              |
    |               |              |               |                |                                                     | Windows: ÌîÑÎ°úÍ∑∏Îû®        |              |
    |               +--------------+---------------+----------------+-----------------------------------------------------+--------------------------+--------------+
    |               | ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏   | cub_server    | ECHO(7)        | ECHO(7)                                             | Í∞úÎ∞©                     | Ï£ºÍ∏∞Ï†Å Ïó∞Í≤∞  |
    |               | Ïû•ÎπÑ(**)     |               |                |                                                     |                          |              |
    |               +--------------+---------------+----------------+-----------------------------------------------------+--------------------------+--------------+
    |               | ÏÑúÎ≤Ñ         | CAS, CSQL     | ECHO(7)        | ECHO(7)                                             | Í∞úÎ∞©                     | Ï£ºÍ∏∞Ï†Å Ïó∞Í≤∞  |
    |               | Ïû•ÎπÑ(\*\*\*) |               |                |                                                     |                          |              |
    +---------------+--------------+---------------+----------------+-----------------------------------------------------+--------------------------+--------------+
    | Manager,      | Manager      | application   | 8001, 8002     | 8001, 8002                                          | Í∞úÎ∞©                     |              |
    |               | ÏÑúÎ≤Ñ         |               |                |                                                     |                          |              |
    | Web Manager   +--------------+---------------+----------------+-----------------------------------------------------+--------------------------+--------------+
    | ÏÇ¨Ïö©          | Web Manager  | application   | 8282           | 8282                                                | Í∞úÎ∞©                     |              |
    |               | ÏÑúÎ≤Ñ         |               |                |                                                     |                          |              |
    +---------------+--------------+---------------+----------------+-----------------------------------------------------+--------------------------+--------------+
    
Í∞Å Íµ¨Î∂Ñ Î≥Ñ ÏÉÅÏÑ∏ ÏÑ§Î™ÖÏùÄ ÏïÑÎûòÏôÄ Í∞ôÎã§.

**1. CUBRID Í∏∞Î≥∏ ÏÇ¨Ïö© Ìè¨Ìä∏**

    Ï†ëÏÜç ÏöîÏ≤≠ÏùÑ Í∏∞Îã§Î¶¨Îäî(listening) ÌîÑÎ°úÏÑ∏Ïä§ Îì§ÏùÑ Í∏∞Ï§ÄÏúºÎ°ú Í∞Å OS Î≥ÑÎ°ú ÌïÑÏöîÌïú Ìè¨Ìä∏Î•º Ï†ïÎ¶¨ÌïòÎ©¥ Îã§ÏùåÍ≥º Í∞ôÏúºÎ©∞, Í∞Å Ìè¨Ìä∏Îäî listener Ï™ΩÏóêÏÑú Í∞úÎ∞©ÎêòÏñ¥Ïïº ÌïúÎã§.
    
    +------------+---------------+----------------+-----------------------------------------------------+--------------------------+--------------+
    | listener   | requester     | Linux port     | Windows port                                        | Î∞©ÌôîÎ≤Ω Ìè¨Ìä∏ ÏÑ§Ï†ï         | ÏÑ§Î™Ö         |
    +============+===============+================+=====================================================+==========================+==============+
    | cub_broker | application   | BROKER_PORT    | BROKER_PORT                                         | Í∞úÎ∞©(open)               | ÏùºÌöåÏÑ± Ïó∞Í≤∞  |
    +------------+---------------+----------------+-----------------------------------------------------+--------------------------+--------------+
    | CAS        | application   | BROKER_PORT    | APPL_SERVER_PORT ~ (APP_SERVER_PORT + CAS Í∞úÏàò - 1) | Í∞úÎ∞©                     | Ïó∞Í≤∞ Ïú†ÏßÄ    |
    +------------+---------------+----------------+-----------------------------------------------------+--------------------------+--------------+
    | cub_master | CAS           | cubrid_port_id | cubrid_port_id                                      | Í∞úÎ∞©                     | ÏùºÌöåÏÑ± Ïó∞Í≤∞  |
    +------------+---------------+----------------+-----------------------------------------------------+--------------------------+--------------+
    | cub_server | CAS           | cubrid_port_id | ÏûÑÏùòÏùò Í∞ÄÏö© Ìè¨Ìä∏                                    | Linux: Í∞úÎ∞©              | Ïó∞Í≤∞ Ïú†ÏßÄ    |
    |            |               |                |                                                     |                          |              |
    |            |               |                |                                                     | Windows: ÌîÑÎ°úÍ∑∏Îû®        |              |
    +------------+---------------+----------------+-----------------------------------------------------+--------------------------+--------------+
    | ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ | cub_server    | ECHO(7)        | ECHO(7)                                             | Í∞úÎ∞©                     | Ï£ºÍ∏∞Ï†Å Ïó∞Í≤∞  |
    | Ïû•ÎπÑ(*)    |               |                |                                                     |                          |              |
    +------------+---------------+----------------+-----------------------------------------------------+--------------------------+--------------+
    | ÏÑúÎ≤Ñ       | CAS, CSQL     | ECHO(7)        | ECHO(7)                                             | Í∞úÎ∞©                     | Ï£ºÍ∏∞Ï†Å Ïó∞Í≤∞  |
    | Ïû•ÎπÑ(**)   |               |                |                                                     |                          |              |
    +------------+---------------+----------------+-----------------------------------------------------+--------------------------+--------------+
    
    (*): CAS ÎòêÎäî CSQL ÌîÑÎ°úÏÑ∏Ïä§Í∞Ä Ï°¥Ïû¨ÌïòÎäî Ïû•ÎπÑ
    
    (**): cub_serverÍ∞Ä Ï°¥Ïû¨ÌïòÎäî Ïû•ÎπÑ
        
    .. note:: WindowsÏóêÏÑúÎäî CASÍ∞Ä cub_serverÏóê Ï†ëÍ∑ºÌï† Îïå ÏÇ¨Ïö©Ìï† Ìè¨Ìä∏Î•º ÏûÑÏùòÎ°ú Ï†ïÌïòÎØÄÎ°ú Í∞úÎ∞©Ìï† Ìè¨Ìä∏Î•º Ï†ïÌï† Ïàò ÏóÜÎã§. Îî∞ÎùºÏÑú "Windows Î∞©ÌôîÎ≤Ω"ÏóêÏÑú "ÌóàÏö©ÎêòÎäî ÌîÑÎ°úÍ∑∏Îû®"ÏùÑ ÏÑ§Ï†ïÌï¥Ïïº ÌïúÎã§.
        
    ÏÑúÎ≤Ñ ÌîÑÎ°úÏÑ∏Ïä§(cub_server)ÏôÄ Ïù¥Ïóê Ï†ëÏÜçÌïòÎäî ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ ÌîÑÎ°úÏÑ∏Ïä§Îì§(CAS, CSQL) ÏÇ¨Ïù¥ÏóêÏÑú ÏÉÅÎåÄ ÎÖ∏ÎìúÍ∞Ä Ï†ïÏÉÅ ÎèôÏûëÌïòÎäîÏßÄ ECHO(7) Ìè¨Ìä∏Î•º ÌÜµÌï¥ ÏÑúÎ°ú ÌôïÏù∏ÌïòÎØÄÎ°ú, Î∞©ÌôîÎ≤Ω Ï°¥Ïû¨ Ïãú ECHO(7) Ìè¨Ìä∏Î•º Í∞úÎ∞©Ìï¥Ïïº ÌïúÎã§. ECHO Ìè¨Ìä∏Î•º ÏÑúÎ≤ÑÏôÄ ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ ÏñëÏ™Ω Îã§ Í∞úÎ∞©Ìï† Ïàò ÏóÜÎäî ÏÉÅÌô©Ïù¥ÎùºÎ©¥ cubrid.confÏùò **check_peer_alive** ÌååÎùºÎØ∏ÌÑ∞ Í∞íÏùÑ noneÏúºÎ°ú ÏÑ§Ï†ïÌïúÎã§.

    Îã§ÏùåÏùÄ Í∞Å ÌîÑÎ°úÏÑ∏Ïä§ Í∞Ñ Ïó∞Í≤∞ Í¥ÄÍ≥ÑÎ•º ÎÇòÌÉÄÎÇ∏ Í≤ÉÏù¥Îã§.
    
    ::
    
         application - cub_broker
                     -> CAS  -  cub_master
                             -> cub_server

    * application: ÏùëÏö© ÌîÑÎ°úÏÑ∏Ïä§
    * cub_broker: Î∏åÎ°úÏª§ ÏÑúÎ≤Ñ ÌîÑÎ°úÏÑ∏Ïä§. applicationÏù¥ Ïó∞Í≤∞Ìï† CASÎ•º ÏÑ†ÌÉùÌïòÎäî Ïó≠Ìï†ÏùÑ ÏàòÌñâ.
    * CAS: Î∏åÎ°úÏª§ ÏùëÏö© ÏÑúÎ≤Ñ ÌîÑÎ°úÏÑ∏Ïä§. applicationÍ≥º cub_serverÎ•º Ï§ëÍ≥Ñ.
    * cub_master: ÎßàÏä§ÌÑ∞ ÌîÑÎ°úÏÑ∏Ïä§. CASÍ∞Ä Ïó∞Í≤∞Ìï† cub_serverÎ•º ÏÑ†ÌÉùÌïòÎäî Ïó≠Ìï†ÏùÑ ÏàòÌñâ.
    * cub_server: DB ÏÑúÎ≤Ñ ÌîÑÎ°úÏÑ∏Ïä§
        
    ÌîÑÎ°úÏÑ∏Ïä§ Í∞Ñ Í¥ÄÍ≥Ñ Í∏∞Ìò∏ Î∞è ÏùòÎØ∏Îäî Îã§ÏùåÍ≥º Í∞ôÎã§.
    
        * \- Í∏∞Ìò∏: ÏµúÏ¥à Ìïú Î≤àÎßå Ïó∞Í≤∞Îê®ÏùÑ ÎÇòÌÉÄÎÇ∏Îã§.
        * ->, <- Í∏∞Ìò∏: Ïó∞Í≤∞Ïù¥ Ïú†ÏßÄÎê®ÏùÑ ÎÇòÌÉÄÎÇ¥Î©∞, -> Ïùò Ïò§Î•∏Ï™Ω ÎòêÎäî <-Ïùò ÏôºÏ™ΩÏù¥ ÌôîÏÇ¥ÏùÑ Î∞õÎäî Ï™ΩÏù¥Îã§. ÌôîÏÇ¥ÏùÑ Î∞õÎäî Ï™ΩÏù¥ Ï≤òÏùåÏóê ÏÉÅÎåÄ ÌîÑÎ°úÏÑ∏Ïä§Ïùò Ï†ëÏÜçÏùÑ Í∏∞Îã§Î¶¨Îäî(listening) Ï™ΩÏùÑ ÎÇòÌÉÄÎÇ∏Îã§.
        * (master): HA Íµ¨ÏÑ±ÏóêÏÑú master ÎÖ∏ÎìúÎ•º ÎÇòÌÉÄÎÇ∏Îã§.
        * (slave): HA Íµ¨ÏÑ±ÏóêÏÑú slave ÎÖ∏ÎìúÎ•º ÎÇòÌÉÄÎÇ∏Îã§.

    Îã§ÏùåÏùÄ ÏùëÏö© ÌîÑÎ°úÍ∑∏Îû®Í≥º DB ÏÇ¨Ïù¥Ïùò Ïó∞Í≤∞ Í≥ºÏ†ïÏùÑ ÏàúÏÑúÎåÄÎ°ú ÎÇòÏó¥Ìïú Í≤ÉÏù¥Îã§.
    
    #. applicationÏù¥ cubrid_broker.confÏóê ÏÑ§Ï†ïÎêú Î∏åÎ°úÏª§ Ìè¨Ìä∏(BROKER_PORT)Î•º ÌÜµÌï¥ cub_brokerÏôÄ Ïó∞Í≤∞ÏùÑ ÏãúÎèÑÌïúÎã§.
    #. cub_brokerÎäî Ïó∞Í≤∞ Í∞ÄÎä•Ìïú CASÎ•º ÏÑ†ÌÉùÌïúÎã§.
    #. applicationÍ≥º CASÍ∞Ä Ïó∞Í≤∞ÎêúÎã§. 
    
       LinuxÏóêÏÑúÎäî applicationÏù¥ Ïú†ÎãâÏä§ ÎèÑÎ©îÏù∏ ÏÜåÏºìÏùÑ ÌÜµÌï¥ CASÏôÄ Ïó∞Í≤∞ÎêòÎØÄÎ°ú BROKER_PORTÎ•º ÏÇ¨Ïö©ÌïúÎã§. WindowsÏóêÏÑúÎäî Ïú†ÎãâÏä§ ÎèÑÎ©îÏù∏ ÏÜåÏºìÏùÑ ÏÇ¨Ïö©Ìï† Ïàò ÏóÜÏúºÎØÄÎ°ú Í∞Å CASÎßàÎã§ cubrid_broker.confÏóê ÏÑ§Ï†ïÎêú APPL_SERVER_PORT Í∞íÏùÑ Í∏∞Ï§ÄÏúºÎ°ú CAS IDÎ•º ÎçîÌïú Ìè¨Ìä∏Î•º ÌÜµÌï¥ Ïó∞Í≤∞ÎêúÎã§. APPL_SERVER_PORTÏùò Í∞íÏù¥ ÏÑ§Ï†ïÎêòÏßÄ ÏïäÏúºÎ©¥ Ï≤´Î≤àÏß∏ CASÏôÄ Ïó∞Í≤∞ÌïòÎäî Ìè¨Ìä∏ Í∞íÏùÄ BROKER_PORT + 1Ïù¥ ÎêúÎã§.
    
       ÏòàÎ•º Îì§Ïñ¥ WindowsÏóêÏÑú BROKER_PORTÍ∞Ä 33000Ïù¥Í≥† APPL_SERVER_PORT Í∞Ä ÏÑ§Ï†ïÎêòÏßÄ ÏïäÏïòÏúºÎ©¥ applicationÍ≥º CAS ÏÇ¨Ïù¥Ïóê ÏÇ¨Ïö©ÌïòÎäî Ìè¨Ìä∏Îäî Îã§ÏùåÍ≥º Í∞ôÎã§.
        
       * applicationÏù¥ CAS(1)Í≥º Ï†ëÏÜçÌïòÎäî Ìè¨Ìä∏ : 33001
       * applicationÏù¥ CAS(2)ÏôÄ Ï†ëÏÜçÌïòÎäî Ìè¨Ìä∏ : 33002
       * applicationÏù¥ CAS(3)ÏôÄ Ï†ëÏÜçÌïòÎäî Ìè¨Ìä∏ : 33003
                    
    #. CASÎäî cubrid.confÏóê ÏÑ§Ï†ïÎêú cubrid_port_id Ìè¨Ìä∏Î•º ÌÜµÌï¥ cub_masterÏóêÍ≤å cub_serverÎ°úÏùò Ïó∞Í≤∞ÏùÑ ÏöîÏ≤≠ÌïúÎã§.
    #. CASÏôÄ cub_serverÍ∞Ä Ïó∞Í≤∞ÎêúÎã§. 
    
       LinuxÏóêÏÑúÎäî CASÍ∞Ä Ïú†ÎãâÏä§ ÎèÑÎ©îÏù∏ ÏÜåÏºìÏùÑ ÌÜµÌï¥ cub_serverÏôÄ Ïó∞Í≤∞ÎêòÎØÄÎ°ú cubrid_port_id Ìè¨Ìä∏Î•º ÏÇ¨Ïö©ÌïúÎã§. WindowsÏóêÏÑúÎäî Ïú†ÎãâÏä§ ÎèÑÎ©îÏù∏ ÏÜåÏºìÏùÑ ÏÇ¨Ïö©Ìï† Ïàò ÏóÜÏúºÎØÄÎ°ú ÏûÑÏùòÏùò Í∞ÄÏö© Ìè¨Ìä∏Î•º ÌÜµÌï¥ cub_serverÏôÄ Ïó∞Í≤∞ÎêúÎã§. WindowsÏóêÏÑú DB serverÎ•º Ïö¥Ïö©ÌïúÎã§Î©¥ Î∏åÎ°úÏª§ Ïû•ÎπÑÏôÄ DB ÏÑúÎ≤Ñ Ïû•ÎπÑ ÏÇ¨Ïù¥ÏóêÏÑúÎäî ÏûÑÏùòÏùò Í∞ÄÏö© Ìè¨Ìä∏Î•º ÏÇ¨Ïö©ÌïòÎØÄÎ°ú, Îëê Ïû•ÎπÑ ÏÇ¨Ïù¥ÏóêÏÑú Î∞©ÌôîÎ≤ΩÏù¥ Ìï¥Îãπ ÌîÑÎ°úÏÑ∏Ïä§Ïóê ÎåÄÌïú Ìè¨Ìä∏Î•º ÎßâÍ≤å ÎêòÎ©¥ Ï†ïÏÉÅ ÎèôÏûëÏùÑ Î≥¥Ïû•Ìï† Ïàò ÏóÜÍ≤å ÎêúÎã§Îäî Ï†êÏóê Ï£ºÏùòÌïúÎã§.
      
    #. Ïù¥ÌõÑ CASÎäî applicationÏù¥ Ï¢ÖÎ£åÎêòÏñ¥ÎèÑ CASÍ∞Ä Ïû¨ÏãúÏûëÎêòÏßÄ ÏïäÎäî Ìïú cub_serverÏôÄ Ïó∞Í≤∞ÏùÑ Ïú†ÏßÄÌïúÎã§.
    
    
**2. CUBRID HA ÏÇ¨Ïö© Ìè¨Ìä∏**

    CUBRID HAÎäî Linux ÌôòÍ≤ΩÏóêÏÑúÎßå ÏßÄÏõêÌïúÎã§.

    Ï†ëÏÜç ÏöîÏ≤≠ÏùÑ Í∏∞Îã§Î¶¨Îäî(listening) ÌîÑÎ°úÏÑ∏Ïä§ Îì§ÏùÑ Í∏∞Ï§ÄÏúºÎ°ú Í∞Å OS Î≥ÑÎ°ú ÌïÑÏöîÌïú Ìè¨Ìä∏Î•º Ï†ïÎ¶¨ÌïòÎ©¥ Îã§ÏùåÍ≥º Í∞ôÏúºÎ©∞, Í∞Å Ìè¨Ìä∏Îäî listener Ï™ΩÏóêÏÑú Í∞úÎ∞©ÎêòÏñ¥Ïïº ÌïúÎã§.

    +------------+---------------+----------------+--------------------------+--------------+
    | listener   | requester     | Linux port     | Î∞©ÌôîÎ≤Ω Ìè¨Ìä∏ ÏÑ§Ï†ï         | ÏÑ§Î™Ö         |
    +============+===============+================+==========================+==============+
    | cub_broker | application   | BROKER_PORT    | Í∞úÎ∞©(open)               | ÏùºÌöåÏÑ± Ïó∞Í≤∞  |
    +------------+---------------+----------------+--------------------------+--------------+
    | CAS        | application   | BROKER_PORT    | Í∞úÎ∞©                     | Ïó∞Í≤∞ Ïú†ÏßÄ    |
    +------------+---------------+----------------+--------------------------+--------------+
    | cub_master | CAS           | cubrid_port_id | Í∞úÎ∞©                     | ÏùºÌöåÏÑ± Ïó∞Í≤∞  |
    +------------+---------------+----------------+--------------------------+--------------+
    | cub_master | cub_master    | ha_port_id     | Í∞úÎ∞©                     | Ï£ºÍ∏∞Ï†Å Ïó∞Í≤∞, |
    |            |               |                |                          | heartbeat    |
    | (slave)    | (master)      |                |                          | ÌôïÏù∏         |
    +------------+---------------+----------------+--------------------------+--------------+
    | cub_master | cub_master    | ha_port_id     | Í∞úÎ∞©                     | Ï£ºÍ∏∞Ï†Å Ïó∞Í≤∞, |
    |            |               |                |                          | heartbeat    |
    | (master)   | (slave)       |                |                          | ÌôïÏù∏         |
    +------------+---------------+----------------+--------------------------+--------------+
    | cub_server | CAS           | cubrid_port_id | Í∞úÎ∞©                     | Ïó∞Í≤∞ Ïú†ÏßÄ    |
    +------------+---------------+----------------+--------------------------+--------------+
    | ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ | cub_server    | ECHO(7)        | Í∞úÎ∞©                     | Ï£ºÍ∏∞Ï†Å Ïó∞Í≤∞  |
    | Ïû•ÎπÑ(*)    |               |                |                          |              |
    +------------+---------------+----------------+--------------------------+--------------+
    | ÏÑúÎ≤Ñ       | CAS, CSQL,    | ECHO(7)        | Í∞úÎ∞©                     | Ï£ºÍ∏∞Ï†Å Ïó∞Í≤∞  |
    | Ïû•ÎπÑ(**)   | copylogdb,    |                |                          |              |
    |            | applylogdb    |                |                          |              |
    +------------+---------------+----------------+--------------------------+--------------+
        
    (*): CAS, CSQL, copplogdb, ÎòêÎäî applylogdb ÌîÑÎ°úÏÑ∏Ïä§Í∞Ä Ï°¥Ïû¨ÌïòÎäî Ïû•ÎπÑ
    
    (**): cub_serverÍ∞Ä Ï°¥Ïû¨ÌïòÎäî Ïû•ÎπÑ
    
    ÏÑúÎ≤Ñ ÌîÑÎ°úÏÑ∏Ïä§(cub_server)ÏôÄ Ïù¥Ïóê Ï†ëÏÜçÌïòÎäî ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ ÌîÑÎ°úÏÑ∏Ïä§Îì§(CAS, CSQL, copylogdb, applylogdb Îì±) ÏÇ¨Ïù¥ÏóêÏÑú ÏÉÅÎåÄ ÎÖ∏ÎìúÍ∞Ä Ï†ïÏÉÅ ÎèôÏûëÌïòÎäîÏßÄ ECHO(7) Ìè¨Ìä∏Î•º ÌÜµÌï¥ ÏÑúÎ°ú ÌôïÏù∏ÌïòÎØÄÎ°ú, Î∞©ÌôîÎ≤Ω Ï°¥Ïû¨ Ïãú ECHO(7) Ìè¨Ìä∏Î•º Í∞úÎ∞©Ìï¥Ïïº ÌïúÎã§. ECHO Ìè¨Ìä∏Î•º ÏÑúÎ≤ÑÏôÄ ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ ÏñëÏ™Ω Îã§ Í∞úÎ∞©Ìï† Ïàò ÏóÜÎäî ÏÉÅÌô©Ïù¥ÎùºÎ©¥ cubrid.confÏùò **check_peer_alive** ÌååÎùºÎØ∏ÌÑ∞ Í∞íÏùÑ noneÏúºÎ°ú ÏÑ§Ï†ïÌïúÎã§.
    
    Ïù¥Ïô∏ÏóêÎèÑ ECHO(7) Ìè¨Ìä∏Ïùò Í∞úÎ∞©Ïù¥ ÌïÑÏöîÌïòÎã§. ECHO Ìè¨Ìä∏ Í∞úÎ∞©Í≥º Í¥ÄÎ†®Îêú ÏÑ§Î™ÖÏùÄ "1. CUBRID Í∏∞Î≥∏ ÏÇ¨Ïö© Ìè¨Ìä∏"Î•º Ï∞∏Í≥†ÌïúÎã§.

    Îã§ÏùåÏùÄ Í∞Å ÌîÑÎ°úÏÑ∏Ïä§ Í∞Ñ Ïó∞Í≤∞ Í¥ÄÍ≥ÑÎ•º ÎÇòÌÉÄÎÇ∏ Í≤ÉÏù¥Îã§.
    
    ::
    
        application - cub_broker
                    -> CAS  -  cub_master(master) <-> cub_master(slave)
                            -> cub_server(master)     cub_server(slave) <- applylogdb(slave)
                                                  <----------------------- copylogdb(slave)
                                                  
    * cub_master(master): CUBRID HA Íµ¨ÏÑ±ÏóêÏÑú master ÎÖ∏ÎìúÏóê ÏûàÎäî ÎßàÏä§ÌÑ∞ ÌîÑÎ°úÏÑ∏Ïä§. ÏÉÅÎåÄ ÎÖ∏ÎìúÍ∞Ä ÏÇ¥ÏïÑÏûàÎäîÏßÄ ÌôïÏù∏ÌïòÎäî Ïó≠Ìï†ÏùÑ ÏàòÌñâ.
    * cub_master(slave): CUBRID HA Íµ¨ÏÑ±ÏóêÏÑú slave ÎÖ∏ÎìúÏóê ÏûàÎäî ÎßàÏä§ÌÑ∞ ÌîÑÎ°úÏÑ∏Ïä§. ÏÉÅÎåÄ ÎÖ∏ÎìúÍ∞Ä ÏÇ¥ÏïÑÏûàÎäîÏßÄ ÌôïÏù∏ÌïòÎäî Ïó≠Ìï†ÏùÑ ÏàòÌñâ.
    * copylogdb(slave): CUBRID HA Íµ¨ÏÑ±ÏóêÏÑú slave ÎÖ∏ÎìúÏóê ÏûàÎäî Î≥µÏ†ú Î°úÍ∑∏ Î≥µÏÇ¨ ÌîÑÎ°úÏÑ∏Ïä§
    * applylogdb(slave): CUBRID HA Íµ¨ÏÑ±ÏóêÏÑú slave ÎÖ∏ÎìúÏóê ÏûàÎäî Î≥µÏ†ú Î°úÍ∑∏ Î∞òÏòÅ ÌîÑÎ°úÏÑ∏Ïä§
    
    master ÎÖ∏ÎìúÏóêÏÑú slave ÎÖ∏ÎìúÎ°úÏùò Î≥µÏ†ú Í≥ºÏ†ï ÌååÏïÖÏù¥ Ïö©Ïù¥ÌïòÍ≤å ÌïòÍ∏∞ ÏúÑÌï¥ ÏúÑÏóêÏÑú master ÎÖ∏ÎìúÏùò applylogdb, copylogdbÏôÄ slave ÎÖ∏ÎìúÏùò CASÎäî ÏÉùÎûµÌñàÎã§.
    
    ÌîÑÎ°úÏÑ∏Ïä§ Í∞Ñ Í¥ÄÍ≥Ñ Í∏∞Ìò∏ Î∞è ÏùòÎØ∏Îäî Îã§ÏùåÍ≥º Í∞ôÎã§.
    
        * \- Í∏∞Ìò∏: ÏµúÏ¥à Ìïú Î≤àÎßå Ïó∞Í≤∞Îê®ÏùÑ ÎÇòÌÉÄÎÇ∏Îã§.
        * ->, <- Í∏∞Ìò∏: Ïó∞Í≤∞Ïù¥ Ïú†ÏßÄÎê®ÏùÑ ÎÇòÌÉÄÎÇ¥Î©∞, -> Ïùò Ïò§Î•∏Ï™Ω ÎòêÎäî <-Ïùò ÏôºÏ™ΩÏù¥ ÌôîÏÇ¥ÏùÑ Î∞õÎäî Ï™ΩÏù¥Îã§. ÌôîÏÇ¥ÏùÑ Î∞õÎäî Ï™ΩÏù¥ Ï≤òÏùåÏóê ÏÉÅÎåÄ ÌîÑÎ°úÏÑ∏Ïä§Ïùò Ï†ëÏÜçÏùÑ Í∏∞Îã§Î¶¨Îäî(listening) Ï™ΩÏùÑ ÎÇòÌÉÄÎÇ∏Îã§.
        * (master): HA Íµ¨ÏÑ±ÏóêÏÑú master ÎÖ∏ÎìúÎ•º ÎÇòÌÉÄÎÇ∏Îã§.
        * (slave): HA Íµ¨ÏÑ±ÏóêÏÑú slave ÎÖ∏ÎìúÎ•º ÎÇòÌÉÄÎÇ∏Îã§.
        
    ÏùëÏö© ÌîÑÎ°úÍ∑∏Îû®Í≥º DB ÏÇ¨Ïù¥Ïùò Ïó∞Í≤∞ Í≥ºÏ†ïÏùÄ 1. CUBRID Í∏∞Î≥∏ ÏÇ¨Ïö© Ìè¨Ìä∏ÏôÄ ÎèôÏùºÌïòÎã§. Ïó¨Í∏∞ÏóêÏÑúÎäî CUBRID HAÏóê ÏùòÌï¥ 1:1Î°ú master DBÏôÄ slave DBÎ•º Íµ¨ÏÑ±Ìï† Îïå master ÎÖ∏ÎìúÏôÄ slave ÎÖ∏Îìú ÏÇ¨Ïù¥Ïùò Ïó∞Í≤∞ Í≥ºÏ†ïÏóê ÎåÄÌï¥ÏÑúÎßå ÏÑ§Î™ÖÌïúÎã§.
    
    #. cub_master(master)ÏôÄ cub_master(slave) ÏÇ¨Ïù¥ÏóêÎäî cubrid_ha.confÏóê ÏÑ§Ï†ïÎêú ha_port_idÎ•º ÏÇ¨Ïö©ÌïúÎã§.
    #. copylogdb(slave)Îäî slave ÎÖ∏ÎìúÏóê ÏûàÎäî cubrid.confÏùò cubrid_port_idÏóê ÏÑ§Ï†ïÎêú Ìè¨Ìä∏Î•º ÌÜµÌï¥ cub_master(master)ÏóêÍ≤å master DBÎ°úÏùò Ïó∞Í≤∞ÏùÑ ÏöîÏ≤≠ÌïòÏó¨, ÏµúÏ¢ÖÏ†ÅÏúºÎ°ú cub_server(master)ÏôÄ Ïó∞Í≤∞ÌïòÍ≤å ÎêúÎã§.
    #. applylogdb(slave)Îäî slave ÎÖ∏ÎìúÏóê ÏûàÎäî cubrid.confÏùò cubrid_port_idÏóê ÏÑ§Ï†ïÎêú Ìè¨Ìä∏Î•º ÌÜµÌï¥ cub_master(slave)ÏóêÍ≤å slave DBÎ°úÏùò Ïó∞Í≤∞ÏùÑ ÏöîÏ≤≠ÌïòÏó¨, ÏµúÏ¢ÖÏ†ÅÏúºÎ°ú cub_server(slave)ÏôÄ Ïó∞Í≤∞ÌïòÍ≤å ÎêúÎã§.

    master ÎÖ∏ÎìúÏóêÏÑúÎèÑ applylogdbÏôÄ copylogdbÍ∞Ä ÎèôÏûëÌïòÎäîÎç∞, master ÎÖ∏ÎìúÍ∞Ä Ï†àÏ≤¥Î°ú Ïù∏Ìï¥ slave ÎÖ∏ÎìúÎ°ú Î≥ÄÍ≤ΩÎê† ÎïåÎ•º ÎåÄÎπÑÌïòÍ∏∞ ÏúÑÌï®Ïù¥Îã§.
    
**3. CUBRID SHARD ÏÇ¨Ïö© Ìè¨Ìä∏**

    Ï†ëÏÜç ÏöîÏ≤≠ÏùÑ Í∏∞Îã§Î¶¨Îäî(listening) ÌîÑÎ°úÏÑ∏Ïä§ Îì§ÏùÑ Í∏∞Ï§ÄÏúºÎ°ú Í∞Å OS Î≥ÑÎ°ú ÌïÑÏöîÌïú Ìè¨Ìä∏Î•º Ï†ïÎ¶¨ÌïòÎ©¥ Îã§ÏùåÍ≥º Í∞ôÏúºÎ©∞, Í∞Å Ìè¨Ìä∏Îäî listener Ï™ΩÏóêÏÑú Í∞úÎ∞©ÎêòÏñ¥Ïïº ÌïúÎã§.

    +---------------+--------------+----------------+-----------------------------------------------------+--------------------------+--------------+
    | listener      | requester    | Linux port     | Windows port                                        | Î∞©ÌôîÎ≤Ω Ìè¨Ìä∏ ÏÑ§Ï†ï         | ÏÑ§Î™Ö         |
    +===============+==============+================+=====================================================+==========================+==============+
    | shard_broker  | application  | BROKER_PORT    | BROKER_PORT                                         | Í∞úÎ∞©(open)               | ÏùºÌöåÏÑ± Ïó∞Í≤∞  |
    +---------------+--------------+----------------+-----------------------------------------------------+--------------------------+--------------+
    | shard_proxy   | application  | BROKER_PORT    | BROKER_PORT + 1 ~ (BROKER_PORT + MAX_NUM_PROXY)     | Í∞úÎ∞©                     | Ïó∞Í≤∞ Ïú†ÏßÄ    |
    +---------------+--------------+----------------+-----------------------------------------------------+--------------------------+--------------+
    | shard_proxy   | shard CAS    | ÏóÜÏùå           | (BROKER_PORT + MAX_NUM_PROXY + 1) ~                 | Î∂àÌïÑÏöî(*)                | Ïó∞Í≤∞ Ïú†ÏßÄ    |
    |               |              |                | (BROKER_PORT + MAX_NUM_PROXY * 2)                   |                          |              |
    +---------------+--------------+----------------+-----------------------------------------------------+--------------------------+--------------+
    | cub_master    | shard CAS    | cubrid_port_id | cubrid_port_id                                      | Í∞úÎ∞©                     | ÏùºÌöåÏÑ± Ïó∞Í≤∞  |
    +---------------+--------------+----------------+-----------------------------------------------------+--------------------------+--------------+
    | cub_server    | shard CAS    | cubrid_port_id | ÏûÑÏùòÏùò Í∞ÄÏö© Ìè¨Ìä∏                                    | Linux: Í∞úÎ∞©              | Ïó∞Í≤∞ Ïú†ÏßÄ    |
    |               |              |                |                                                     |                          |              |
    |               |              |                |                                                     | Windows: ÌîÑÎ°úÍ∑∏Îû®        |              |
    +---------------+--------------+----------------+-----------------------------------------------------+--------------------------+--------------+
    | ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏    | cub_server   | ECHO(7)        | ECHO(7)                                             | Í∞úÎ∞©                     | Ï£ºÍ∏∞Ï†Å Ïó∞Í≤∞  |
    | Ïû•ÎπÑ(**)      |              |                |                                                     |                          |              |
    +---------------+--------------+----------------+-----------------------------------------------------+--------------------------+--------------+
    | ÏÑúÎ≤Ñ          | CAS, CSQL    | ECHO(7)        | ECHO(7)                                             | Í∞úÎ∞©                     | Ï£ºÍ∏∞Ï†Å Ïó∞Í≤∞  |
    | Ïû•ÎπÑ(\*\*\*)  |              |                |                                                     |                          |              |
    +---------------+--------------+----------------+-----------------------------------------------------+--------------------------+--------------+
    
    (*): shard CASÏôÄ shard_proxyÎäî Î¨ºÎ¶¨Ï†ÅÏúºÎ°ú ÏÑúÎ°ú Î∂ÑÎ¶¨ÎêòÏßÄ ÏïäÏúºÎØÄÎ°ú Î∞©ÌôîÎ≤ΩÏóêÏÑú Ìè¨Ìä∏ Í∞úÎ∞©ÏùÑ ÏÑ§Ï†ïÌïòÏßÄ ÏïäÏïÑÎèÑ ÎêúÎã§. LinuxÏóêÏÑú Îëê ÌîÑÎ°úÏÑ∏Ïä§ Í∞Ñ Ï†ëÏÜçÏùÄ Ïú†ÎãâÏä§ ÎèÑÎ©îÏù∏ ÏÜåÏºìÏùÑ ÏÇ¨Ïö©ÌïúÎã§.
    
    (**): CAS ÎòêÎäî CSQL ÌîÑÎ°úÏÑ∏Ïä§Í∞Ä Ï°¥Ïû¨ÌïòÎäî Ïû•ÎπÑ
    
    (\*\*\*): cub_serverÍ∞Ä Ï°¥Ïû¨ÌïòÎäî Ïû•ÎπÑ
        
    .. note:: WindowsÏóêÏÑúÎäî CASÍ∞Ä cub_serverÏóê Ï†ëÍ∑ºÌï† Îïå ÏÇ¨Ïö©Ìï† Ìè¨Ìä∏Î•º ÏûÑÏùòÎ°ú Ï†ïÌïòÎØÄÎ°ú Í∞úÎ∞©Ìï† Ìè¨Ìä∏Î•º Ï†ïÌï† Ïàò ÏóÜÎã§. Îî∞ÎùºÏÑú "Windows Î∞©ÌôîÎ≤Ω"ÏóêÏÑú "ÌóàÏö©ÎêòÎäî ÌîÑÎ°úÍ∑∏Îû®"ÏùÑ ÏÑ§Ï†ïÌï¥Ïïº ÌïúÎã§.
        
    ÏÑúÎ≤Ñ ÌîÑÎ°úÏÑ∏Ïä§(cub_server)ÏôÄ Ïù¥Ïóê Ï†ëÏÜçÌïòÎäî ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ ÌîÑÎ°úÏÑ∏Ïä§Îì§(CAS, CSQL) ÏÇ¨Ïù¥ÏóêÏÑú ÏÉÅÎåÄ ÎÖ∏ÎìúÍ∞Ä Ï†ïÏÉÅ ÎèôÏûëÌïòÎäîÏßÄ ECHO(7) Ìè¨Ìä∏Î•º ÌÜµÌï¥ ÏÑúÎ°ú ÌôïÏù∏ÌïòÎØÄÎ°ú, Î∞©ÌôîÎ≤Ω Ï°¥Ïû¨ Ïãú ECHO(7) Ìè¨Ìä∏Î•º Í∞úÎ∞©Ìï¥Ïïº ÌïúÎã§. ECHO Ìè¨Ìä∏Î•º ÏÑúÎ≤ÑÏôÄ ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ ÏñëÏ™Ω Îã§ Í∞úÎ∞©Ìï† Ïàò ÏóÜÎäî ÏÉÅÌô©Ïù¥ÎùºÎ©¥ cubrid.confÏùò **check_peer_alive** ÌååÎùºÎØ∏ÌÑ∞ Í∞íÏùÑ noneÏúºÎ°ú ÏÑ§Ï†ïÌïúÎã§.

    ::
    
        application - shard broker
                    -> shard proxy <- shard CAS - cub_master
                                                -> cub_server
    
        * shard broker: CUBRID SHARD Î∏åÎ°úÏª§ ÌîÑÎ°úÏÑ∏Ïä§. apllicationÍ≥º shard proxyÎ•º Ï§ëÍ≥Ñ
        * shard proxy: CUBRID SHARD ÌîÑÎ°ùÏãú ÌîÑÎ°úÏÑ∏Ïä§. Ïñ¥Îñ§ shard DBÎ•º ÏÑ†ÌÉùÌï† ÏßÄ Í≤∞Ï†ïÌïòÎäî Ïó≠Ìï†ÏùÑ ÏàòÌñâ
        * shard CAS: CUBRID SHARD CAS ÌîÑÎ°úÏÑ∏Ïä§. shard proxyÏôÄ cub_serverÎ•º Ï§ëÍ≥Ñ
    
    ÌîÑÎ°úÏÑ∏Ïä§ Í∞Ñ Í¥ÄÍ≥Ñ Í∏∞Ìò∏ Î∞è ÏùòÎØ∏Îäî Îã§ÏùåÍ≥º Í∞ôÎã§.
    
        * \- Í∏∞Ìò∏: ÏµúÏ¥à Ìïú Î≤àÎßå Ïó∞Í≤∞Îê®ÏùÑ ÎÇòÌÉÄÎÇ∏Îã§.
        * ->, <- Í∏∞Ìò∏: Ïó∞Í≤∞Ïù¥ Ïú†ÏßÄÎê®ÏùÑ ÎÇòÌÉÄÎÇ¥Î©∞, -> Ïùò Ïò§Î•∏Ï™Ω ÎòêÎäî <-Ïùò ÏôºÏ™ΩÏù¥ ÌôîÏÇ¥ÏùÑ Î∞õÎäî Ï™ΩÏù¥Îã§. ÌôîÏÇ¥ÏùÑ Î∞õÎäî Ï™ΩÏù¥ Ï≤òÏùåÏóê ÏÉÅÎåÄ ÌîÑÎ°úÏÑ∏Ïä§Ïùò Ï†ëÏÜçÏùÑ Í∏∞Îã§Î¶¨Îäî(listening) Ï™ΩÏùÑ ÎÇòÌÉÄÎÇ∏Îã§.

                                                
    Îã§ÏùåÏùÄ CUBRID SHARD Íµ¨ÏÑ±ÏóêÏÑú applicationÍ≥º DB server ÏÇ¨Ïù¥Ïùò Ïó∞Í≤∞ Í≥ºÏ†ïÏóê ÎåÄÌï¥ ÎÇòÏó¥Ìïú Í≤ÉÏù¥Îã§. shard CASÏôÄ shard proxyÎäî CUBRID SHARDÎ•º Íµ¨Îèô(cubrid shard start)ÌïòÎäî ÏãúÏ†êÏóê Ïù¥ÎØ∏ Ïó∞Í≤∞Îêú ÏÉÅÌÉúÏù¥Îã§.

    #. applicationÏù¥ shard.confÏóê ÏÑ§Ï†ïÎêú BROKER_PORTÎ•º ÌÜµÌï¥ shard brokerÏóê Ïó∞Í≤∞ÏùÑ ÏãúÎèÑÌïúÎã§.
    
    #. shard brokerÎäî Ïó∞Í≤∞ Í∞ÄÎä•Ìïú shard proxyÎ•º ÏÑ†ÌÉùÌïúÎã§. 
    
    #. applicationÍ≥º shard proxyÍ∞Ä Ïó∞Í≤∞ÎêúÎã§. shard proxyÏùò ÏµúÏÜå, ÏµúÎåÄ Í∞úÏàòÎäî shard.confÏùò MIN_NUM_PROXYÏôÄ MAX_NUM_PROXYÏóê ÏùòÌï¥ ÏÑ§Ï†ïÎêúÎã§.
    
       LinuxÏóêÏÑúÎäî applicationÏù¥ Ïú†ÎãâÏä§ ÎèÑÎ©îÏù∏ ÏÜåÏºìÏùÑ ÌÜµÌï¥ shard proxyÏôÄ Ïó∞Í≤∞ÎêúÎã§. WindowsÏóêÏÑúÎäî Ïú†ÎãâÏä§ ÎèÑÎ©îÏù∏ ÏÜåÏºìÏùÑ ÏÇ¨Ïö©Ìï† Ïàò ÏóÜÏúºÎØÄÎ°ú Í∞Å shard proxyÎßàÎã§ shard.confÏóê ÏÑ§Ï†ïÎêú BROKER_PORTÏôÄ MAX_NUM_PROXYÎ•º Í∞ÄÏßÄÍ≥† Í≥ÑÏÇ∞Îêú Ìè¨Ìä∏Î•º ÌÜµÌï¥ Ïó∞Í≤∞ÎêúÎã§.
    
       ÏòàÎ•º Îì§Ïñ¥ LinuxÏóêÏÑú BROKER_PORTÍ∞Ä 45000Ïù¥Í≥† MAX_NUM_PROXYÍ∞Ä 3Ïùº Îïå ÏÇ¨Ïö©ÌïòÎäî Ìè¨Ìä∏Îäî 45000 ÌïòÎÇòÎ©¥ ÎêúÎã§.
       
       * applicationÏù¥ shard proxy(1)Í≥º Ï†ëÏÜçÌïòÎäî Ìè¨Ìä∏: 45000, shard CASÍ∞Ä shard proxy(1)Í≥º Ï†ëÏÜçÌïòÎäî Ìè¨Ìä∏ : ÏóÜÏùå
       * applicationÏù¥ shard proxy(2)ÏôÄ Ï†ëÏÜçÌïòÎäî Ìè¨Ìä∏: 45000, shard CASÍ∞Ä shard proxy(2)ÏôÄ Ï†ëÏÜçÌïòÎäî Ìè¨Ìä∏ : ÏóÜÏùå
       * applicationÏù¥ shard proxy(3)Í≥º Ï†ëÏÜçÌïòÎäî Ìè¨Ìä∏: 45000, shard CASÍ∞Ä shard proxy(3)ÏôÄ Ï†ëÏÜçÌïòÎäî Ìè¨Ìä∏ : ÏóÜÏùå
       
       Î∞òÎ©¥, WindowsÏóêÏÑú BROKER_PORTÍ∞Ä 45000Ïù¥Í≥† MAX_NUM_PROXYÍ∞Ä 3Ïù¥Î©¥ ÏÇ¨Ïö©ÌïòÎäî Ìè¨Ìä∏Îäî Îã§ÏùåÍ≥º Í∞ôÎã§.
       
       * applicationÏù¥ shard proxy(1)Í≥º Ï†ëÏÜçÌïòÎäî Ìè¨Ìä∏: 45001, shard CASÍ∞Ä shard proxy(1)Í≥º Ï†ëÏÜçÌïòÎäî Ìè¨Ìä∏ : 45004
       * applicationÏù¥ shard proxy(2)ÏôÄ Ï†ëÏÜçÌïòÎäî Ìè¨Ìä∏: 45002, shard CASÍ∞Ä shard proxy(2)ÏôÄ Ï†ëÏÜçÌïòÎäî Ìè¨Ìä∏ : 45005
       * applicationÏù¥ shard proxy(3)Í≥º Ï†ëÏÜçÌïòÎäî Ìè¨Ìä∏: 45003, shard CASÍ∞Ä shard proxy(3)ÏôÄ Ï†ëÏÜçÌïòÎäî Ìè¨Ìä∏ : 45006
        
       .. note:: ÌòÑÏû¨ Î≤ÑÏ†ÑÏóêÏÑú MIN_NUM_PROXYÎäî ÏÇ¨Ïö©ÎêòÏßÄ ÏïäÍ≥† MAX_NUM_PROXYÎßå ÏÇ¨Ïö©ÎêúÎã§.
     
    #. shard CASÏôÄ shard proxyÎäî CUBRID SHARDÎ•º Íµ¨Îèô(cubrid shard start)ÌïòÎäî ÏãúÏ†êÏóê Ïù¥ÎØ∏ Ïó∞Í≤∞Îêú ÏÉÅÌÉúÏù¥Îã§. ÎòêÌïú, Í∞Å ÌîÑÎ°úÏÑ∏Ïä§Îäî Ìï≠ÏÉÅ Ìïú Ïû•ÎπÑ ÎÇ¥Ïóê Ï°¥Ïû¨ÌïòÎØÄÎ°ú ÏõêÍ≤© Ï†ëÏÜçÏù¥ Î∂àÌïÑÏöîÌïòÎã§.
    
       shard CASÍ∞Ä shard proxyÎ°ú Ïó∞Í≤∞Ìï† Îïå LinuxÏóêÏÑúÎäî Ïú†ÎãâÏä§ ÎèÑÎ©îÏù∏ ÏÜåÏºìÏùÑ ÏÇ¨Ïö©ÌïòÏßÄÎßå WindowsÏóêÏÑúÎäî Ïú†ÎãâÏä§ ÎèÑÎ©îÏù∏ ÏÜåÏºìÏù¥ ÏóÜÏñ¥ Ìè¨Ìä∏Î•º ÏÇ¨Ïö©ÌïúÎã§(ÏúÑÏùò Ïòà Ï∞∏Í≥†). shard proxy ÌïòÎÇò Îãπ Ïó¨Îü¨ Í∞úÏùò shard CASÍ∞Ä Ïó∞Í≤∞Îê† Ïàò ÏûàÎã§. shard CASÏùò ÏµúÏÜå, ÏµúÎåÄ Í∞úÏàòÎäî shard.confÏùò MIN_NUM_APPL_SERVER, MAX_NUM_APPL_SERVERÏóê ÏùòÌï¥ ÏÑ§Ï†ïÎêúÎã§. shard proxy ÌïòÎÇòÍ∞Ä ÎèôÏãúÏóê Ïó∞Í≤∞ Í∞ÄÎä•Ìïú shard CASÏùò ÏµúÎåÄ Í∞úÏàòÎäî shard.confÏùò MAX_CLIENTÏóê ÏùòÌï¥ ÏÑ§Ï†ïÎêúÎã§.
      
    #. shard CASÎäî cubrid.confÏóê ÏÑ§Ï†ïÎêú cubrid_port_id Ìè¨Ìä∏Î•º ÌÜµÌï¥ cub_masterÏóêÍ≤å DB ÏÑúÎ≤ÑÎ°úÏùò Ïó∞Í≤∞ÏùÑ ÏöîÏ≤≠ÌïúÎã§.
    
    #. shard CASÏôÄ DB ÏÑúÎ≤ÑÍ∞Ä Ïó∞Í≤∞ÎêúÎã§. LinuxÏóêÏÑúÎäî CASÍ∞Ä Ïú†ÎãâÏä§ ÎèÑÎ©îÏù∏ ÏÜåÏºìÏùÑ ÌÜµÌï¥ cub_serverÏôÄ Ïó∞Í≤∞ÎêòÎØÄÎ°ú cubrid_port_id Ìè¨Ìä∏Î•º ÏÇ¨Ïö©ÌïúÎã§. WindowsÏóêÏÑúÎäî Ïú†ÎãâÏä§ ÎèÑÎ©îÏù∏ ÏÜåÏºìÏùÑ ÏÇ¨Ïö©Ìï† Ïàò ÏóÜÏúºÎØÄÎ°ú ÏûÑÏùòÏùò Í∞ÄÏö© Ìè¨Ìä∏Î•º ÌÜµÌï¥ cub_serverÏôÄ Ïó∞Í≤∞ÎêúÎã§. WindowsÏóêÏÑú DB serverÎ•º Ïö¥Ïö©ÌïúÎã§Î©¥ Î∏åÎ°úÏª§ Ïû•ÎπÑÏôÄ DB ÏÑúÎ≤Ñ Ïû•ÎπÑ ÏÇ¨Ïù¥ÏóêÏÑúÎäî ÏûÑÏùòÏùò Í∞ÄÏö© Ìè¨Ìä∏Î•º ÏÇ¨Ïö©ÌïòÎØÄÎ°ú, Îëê Ïû•ÎπÑ ÏÇ¨Ïù¥ÏóêÏÑú Î∞©ÌôîÎ≤ΩÏù¥ Ìï¥Îãπ ÌîÑÎ°úÏÑ∏Ïä§Ïóê ÎåÄÌïú Ìè¨Ìä∏Î•º ÎßâÍ≤å ÎêòÎ©¥ Ï†ïÏÉÅ ÎèôÏûëÏùÑ Î≥¥Ïû•Ìï† Ïàò ÏóÜÍ≤å ÎêúÎã§Îäî Ï†êÏóê Ï£ºÏùòÌïúÎã§.
    
    #. Ïù¥ÌõÑ shard CASÎäî applicationÏù¥ Ï¢ÖÎ£åÎêòÏñ¥ÎèÑ shard CASÍ∞Ä Ïû¨ÏãúÏûëÎêòÏßÄ ÏïäÎäî Ìïú cub_serverÏôÄ Ïó∞Í≤∞ÏùÑ Ïú†ÏßÄÌïúÎã§.

**4. CUBRID Web Manager, CUBRID Manager ÏÑúÎ≤Ñ ÏÇ¨Ïö© Ìè¨Ìä∏**
    
    Ï†ëÏÜç ÏöîÏ≤≠ÏùÑ Í∏∞Îã§Î¶¨Îäî(listening) ÌîÑÎ°úÏÑ∏Ïä§ Îì§ÏùÑ Í∏∞Ï§ÄÏúºÎ°ú CUBRID Web Manager, CUBRID Manager ÏÑúÎ≤ÑÍ∞Ä ÏÇ¨Ïö©ÌïòÎäî Ìè¨Ìä∏Îäî Îã§ÏùåÍ≥º Í∞ôÏúºÎ©∞, Ïù¥Îì§ÏùÄ OSÏùò Ï¢ÖÎ•òÏôÄ Í¥ÄÍ≥ÑÏóÜÏù¥ ÎèôÏùºÌïòÎã§.
    
    +--------------------------+--------------+----------------+--------------------------+
    | listener                 | requester    | port           | Î∞©ÌôîÎ≤Ω Ï°¥Ïû¨ Ïãú Ìè¨Ìä∏ ÏÑ§Ï†ï |
    +==========================+==============+================+==========================+
    | Manager server           | application  | 8001, 8002     | Í∞úÎ∞©(open)               |
    +--------------------------+--------------+----------------+--------------------------+
    | Web Manager server       | application  | 8282           | Í∞úÎ∞©                     |
    +--------------------------+--------------+----------------+--------------------------+
    
    * CUBRID Manager ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏Í∞Ä CUBRID Manager ÏÑúÎ≤Ñ ÌîÑÎ°úÏÑ∏Ïä§Ïóê Ï†ëÏÜçÌï† Îïå ÏÇ¨Ïö©ÌïòÎäî Ìè¨Ìä∏Îäî cm.confÏùò **cm_port**\ÏôÄ **cm_port** + 1Ïù¥Î©∞ **cm_port**\Ïùò Í∏∞Î≥∏Í∞íÏùÄ 8001Ïù¥Îã§.
    * CUBRID Web Manager ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏Í∞Ä CUBRID Web Manager ÏÑúÎ≤Ñ ÌîÑÎ°úÏÑ∏Ïä§Ïóê Ï†ëÏÜçÌï† Îïå ÏÇ¨Ïö©ÌïòÎäî Ìè¨Ìä∏Îäî cm_httpd.confÏùò **listen**\Ïù¥Î©∞ Í∏∞Î≥∏Í∞íÏùÄ 8282Ïù¥Îã§.

            